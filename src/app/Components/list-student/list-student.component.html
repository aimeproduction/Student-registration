<html>
<head>
  <title>

  </title>
</head>
<body>
  <div>
    <div class="child">
    <button class="bt1" mat-raised-button color="primary" [routerLink]="'/student-registration'">Go to registration</button>
      <button class="bt3" mat-raised-button color="warn" [routerLink]="'/login'">Logout</button>
    </div>
    <div class="child1">
      <form class="ui container form" appearance="fill" [formGroup]="form_search">
      <input class="theinput" type="search" formControlName="search" style="height: 30px;" [(ngModel)]="search">
      <button class="bt1" mat-raised-button color="primary" [disabled]="no_show"> Search</button>
      </form>
    </div>
    </div>



<br>
<br>
<div>
  <ng-container *ngIf="data$ | async as data; else loadingOrError">
    <table class="table1 table-hover table-sm table-bordered">
      <tr>
        <th>
          Matricule
        </th>
        <th>
          Firstname
        </th>
        <th>
          Lastname
        </th>
        <th>
          Birthday
        </th>
        <th>
          Street
        </th>
        <th>
          Post code
        </th>
        <th>
          city of residence
        </th>
        <th class="td0">&nbsp;&nbsp; Administration
        </th>
      </tr>
      <tr *ngFor="let item of data | filter: search">
        <td class="vertical-align">{{item.matricule}}</td>
        <td class="vertical-align">{{item.student_firstname}}</td>
        <td class="vertical-align ">{{item.student_lastname}}</td>
        <td class="vertical-align">{{item.date}}</td>
        <td class="vertical-align">{{item.street}}</td>
        <td class="vertical-align ">{{item.postcode}}</td>
        <td class="vertical-align ">{{item.city}}</td>
        <td class="vertical-align">
          <button mat-icon-button matTooltip="bearbeiten" color="primary" aria-label="bearbeiten"
                  (click)="get_action(item.matricule, item.id)">
            <mat-icon>mode_edit_outline</mat-icon>
          </button> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          <button mat-icon-button matTooltip="löschen" color="warn" aria-label="löschen"
                  (click)="delete_student(item.matricule, item.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </tr>
    </table>
  </ng-container>
  <ng-template #loadingOrError>
    <ng-container *ngIf="errorObject; else loading">
      <div class="col-12 text-center">
        <div class="alert alert-danger">
          <p class="errormessage"> {{ errorObject }}</p>
        </div>
      </div>
    </ng-container>

    <ng-template #loading>
      <div class="col-12 text-center">
        <p class="loading">Loading ...</p>
      </div>
    </ng-template>
  </ng-template>
</div>

</body>
</html>
